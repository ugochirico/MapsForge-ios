//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./org/mapsforge/map/layer/overlay/Polygon.java
//

#include "J2ObjC_source.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/concurrent/CopyOnWriteArrayList.h"
#include "org/mapsforge/core/graphics/Canvas.h"
#include "org/mapsforge/core/graphics/GraphicFactory.h"
#include "org/mapsforge/core/graphics/Paint.h"
#include "org/mapsforge/core/graphics/Path.h"
#include "org/mapsforge/core/model/BoundingBox.h"
#include "org/mapsforge/core/model/LatLong.h"
#include "org/mapsforge/core/model/Point.h"
#include "org/mapsforge/core/util/MercatorProjection.h"
#include "org/mapsforge/map/layer/Layer.h"
#include "org/mapsforge/map/layer/overlay/Polygon.h"
#include "org/mapsforge/map/model/DisplayModel.h"

@interface OrgMapsforgeMapLayerOverlayPolygon () {
 @public
  id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory_;
  jboolean keepAligned_;
  id<JavaUtilList> latLongs_;
  id<OrgMapsforgeCoreGraphicsPaint> paintFill_;
  id<OrgMapsforgeCoreGraphicsPaint> paintStroke_;
}

@end

J2OBJC_FIELD_SETTER(OrgMapsforgeMapLayerOverlayPolygon, graphicFactory_, id<OrgMapsforgeCoreGraphicsGraphicFactory>)
J2OBJC_FIELD_SETTER(OrgMapsforgeMapLayerOverlayPolygon, latLongs_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(OrgMapsforgeMapLayerOverlayPolygon, paintFill_, id<OrgMapsforgeCoreGraphicsPaint>)
J2OBJC_FIELD_SETTER(OrgMapsforgeMapLayerOverlayPolygon, paintStroke_, id<OrgMapsforgeCoreGraphicsPaint>)

@implementation OrgMapsforgeMapLayerOverlayPolygon

- (instancetype)initWithOrgMapsforgeCoreGraphicsPaint:(id<OrgMapsforgeCoreGraphicsPaint>)paintFill
                    withOrgMapsforgeCoreGraphicsPaint:(id<OrgMapsforgeCoreGraphicsPaint>)paintStroke
           withOrgMapsforgeCoreGraphicsGraphicFactory:(id<OrgMapsforgeCoreGraphicsGraphicFactory>)graphicFactory {
  OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_(self, paintFill, paintStroke, graphicFactory);
  return self;
}

- (instancetype)initWithOrgMapsforgeCoreGraphicsPaint:(id<OrgMapsforgeCoreGraphicsPaint>)paintFill
                    withOrgMapsforgeCoreGraphicsPaint:(id<OrgMapsforgeCoreGraphicsPaint>)paintStroke
           withOrgMapsforgeCoreGraphicsGraphicFactory:(id<OrgMapsforgeCoreGraphicsGraphicFactory>)graphicFactory
                                          withBoolean:(jboolean)keepAligned {
  OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_(self, paintFill, paintStroke, graphicFactory, keepAligned);
  return self;
}

- (void)drawWithOrgMapsforgeCoreModelBoundingBox:(OrgMapsforgeCoreModelBoundingBox *)boundingBox
                                        withByte:(jbyte)zoomLevel
              withOrgMapsforgeCoreGraphicsCanvas:(id<OrgMapsforgeCoreGraphicsCanvas>)canvas
                  withOrgMapsforgeCoreModelPoint:(OrgMapsforgeCoreModelPoint *)topLeftPoint {
  @synchronized(self) {
    if ([((id<JavaUtilList>) nil_chk(self->latLongs_)) size] < 2 || (self->paintStroke_ == nil && self->paintFill_ == nil)) {
      return;
    }
    id<JavaUtilIterator> iterator = [self->latLongs_ iterator];
    id<OrgMapsforgeCoreGraphicsPath> path = [((id<OrgMapsforgeCoreGraphicsGraphicFactory>) nil_chk(self->graphicFactory_)) createPath];
    OrgMapsforgeCoreModelLatLong *latLong = [((id<JavaUtilIterator>) nil_chk(iterator)) next];
    jlong mapSize = OrgMapsforgeCoreUtilMercatorProjection_getMapSizeWithByte_withInt_(zoomLevel, [((OrgMapsforgeMapModelDisplayModel *) nil_chk(displayModel_)) getTileSize]);
    jfloat x = (jfloat) (OrgMapsforgeCoreUtilMercatorProjection_longitudeToPixelXWithDouble_withLong_(((OrgMapsforgeCoreModelLatLong *) nil_chk(latLong))->longitude_, mapSize) - ((OrgMapsforgeCoreModelPoint *) nil_chk(topLeftPoint))->x_);
    jfloat y = (jfloat) (OrgMapsforgeCoreUtilMercatorProjection_latitudeToPixelYWithDouble_withLong_(latLong->latitude_, mapSize) - topLeftPoint->y_);
    [((id<OrgMapsforgeCoreGraphicsPath>) nil_chk(path)) moveToWithFloat:x withFloat:y];
    while ([iterator hasNext]) {
      latLong = [iterator next];
      x = (jfloat) (OrgMapsforgeCoreUtilMercatorProjection_longitudeToPixelXWithDouble_withLong_(((OrgMapsforgeCoreModelLatLong *) nil_chk(latLong))->longitude_, mapSize) - topLeftPoint->x_);
      y = (jfloat) (OrgMapsforgeCoreUtilMercatorProjection_latitudeToPixelYWithDouble_withLong_(latLong->latitude_, mapSize) - topLeftPoint->y_);
      [path lineToWithFloat:x withFloat:y];
    }
    if (self->paintStroke_ != nil) {
      if (self->keepAligned_) {
        [self->paintStroke_ setBitmapShaderShiftWithOrgMapsforgeCoreModelPoint:topLeftPoint];
      }
      [((id<OrgMapsforgeCoreGraphicsCanvas>) nil_chk(canvas)) drawPathWithOrgMapsforgeCoreGraphicsPath:path withOrgMapsforgeCoreGraphicsPaint:self->paintStroke_];
    }
    if (self->paintFill_ != nil) {
      if (self->keepAligned_) {
        [self->paintFill_ setBitmapShaderShiftWithOrgMapsforgeCoreModelPoint:topLeftPoint];
      }
      [((id<OrgMapsforgeCoreGraphicsCanvas>) nil_chk(canvas)) drawPathWithOrgMapsforgeCoreGraphicsPath:path withOrgMapsforgeCoreGraphicsPaint:self->paintFill_];
    }
  }
}

- (id<JavaUtilList>)getLatLongs {
  return self->latLongs_;
}

- (id<OrgMapsforgeCoreGraphicsPaint>)getPaintFill {
  @synchronized(self) {
    return self->paintFill_;
  }
}

- (id<OrgMapsforgeCoreGraphicsPaint>)getPaintStroke {
  @synchronized(self) {
    return self->paintStroke_;
  }
}

- (void)setPaintFillWithOrgMapsforgeCoreGraphicsPaint:(id<OrgMapsforgeCoreGraphicsPaint>)paintFill {
  @synchronized(self) {
    JreStrongAssign(&self->paintFill_, paintFill);
  }
}

- (void)setPaintStrokeWithOrgMapsforgeCoreGraphicsPaint:(id<OrgMapsforgeCoreGraphicsPaint>)paintStroke {
  @synchronized(self) {
    JreStrongAssign(&self->paintStroke_, paintStroke);
  }
}

- (void)dealloc {
  RELEASE_(graphicFactory_);
  RELEASE_(latLongs_);
  RELEASE_(paintFill_);
  RELEASE_(paintStroke_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x21, 2, 3, -1, -1, -1, -1 },
    { NULL, "LJavaUtilList;", 0x1, -1, -1, -1, 4, -1, -1 },
    { NULL, "LOrgMapsforgeCoreGraphicsPaint;", 0x21, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgMapsforgeCoreGraphicsPaint;", 0x21, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x21, 5, 6, -1, -1, -1, -1 },
    { NULL, "V", 0x21, 7, 6, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithOrgMapsforgeCoreGraphicsPaint:withOrgMapsforgeCoreGraphicsPaint:withOrgMapsforgeCoreGraphicsGraphicFactory:);
  methods[1].selector = @selector(initWithOrgMapsforgeCoreGraphicsPaint:withOrgMapsforgeCoreGraphicsPaint:withOrgMapsforgeCoreGraphicsGraphicFactory:withBoolean:);
  methods[2].selector = @selector(drawWithOrgMapsforgeCoreModelBoundingBox:withByte:withOrgMapsforgeCoreGraphicsCanvas:withOrgMapsforgeCoreModelPoint:);
  methods[3].selector = @selector(getLatLongs);
  methods[4].selector = @selector(getPaintFill);
  methods[5].selector = @selector(getPaintStroke);
  methods[6].selector = @selector(setPaintFillWithOrgMapsforgeCoreGraphicsPaint:);
  methods[7].selector = @selector(setPaintStrokeWithOrgMapsforgeCoreGraphicsPaint:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "graphicFactory_", "LOrgMapsforgeCoreGraphicsGraphicFactory;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "keepAligned_", "Z", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "latLongs_", "LJavaUtilList;", .constantValue.asLong = 0, 0x12, -1, -1, 8, -1 },
    { "paintFill_", "LOrgMapsforgeCoreGraphicsPaint;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "paintStroke_", "LOrgMapsforgeCoreGraphicsPaint;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgMapsforgeCoreGraphicsPaint;LOrgMapsforgeCoreGraphicsPaint;LOrgMapsforgeCoreGraphicsGraphicFactory;", "LOrgMapsforgeCoreGraphicsPaint;LOrgMapsforgeCoreGraphicsPaint;LOrgMapsforgeCoreGraphicsGraphicFactory;Z", "draw", "LOrgMapsforgeCoreModelBoundingBox;BLOrgMapsforgeCoreGraphicsCanvas;LOrgMapsforgeCoreModelPoint;", "()Ljava/util/List<Lorg/mapsforge/core/model/LatLong;>;", "setPaintFill", "LOrgMapsforgeCoreGraphicsPaint;", "setPaintStroke", "Ljava/util/List<Lorg/mapsforge/core/model/LatLong;>;" };
  static const J2ObjcClassInfo _OrgMapsforgeMapLayerOverlayPolygon = { "Polygon", "org.mapsforge.map.layer.overlay", ptrTable, methods, fields, 7, 0x1, 8, 5, -1, -1, -1, -1, -1 };
  return &_OrgMapsforgeMapLayerOverlayPolygon;
}

@end

void OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_(OrgMapsforgeMapLayerOverlayPolygon *self, id<OrgMapsforgeCoreGraphicsPaint> paintFill, id<OrgMapsforgeCoreGraphicsPaint> paintStroke, id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory) {
  OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_(self, paintFill, paintStroke, graphicFactory, false);
}

OrgMapsforgeMapLayerOverlayPolygon *new_OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_(id<OrgMapsforgeCoreGraphicsPaint> paintFill, id<OrgMapsforgeCoreGraphicsPaint> paintStroke, id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory) {
  J2OBJC_NEW_IMPL(OrgMapsforgeMapLayerOverlayPolygon, initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_, paintFill, paintStroke, graphicFactory)
}

OrgMapsforgeMapLayerOverlayPolygon *create_OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_(id<OrgMapsforgeCoreGraphicsPaint> paintFill, id<OrgMapsforgeCoreGraphicsPaint> paintStroke, id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory) {
  J2OBJC_CREATE_IMPL(OrgMapsforgeMapLayerOverlayPolygon, initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_, paintFill, paintStroke, graphicFactory)
}

void OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_(OrgMapsforgeMapLayerOverlayPolygon *self, id<OrgMapsforgeCoreGraphicsPaint> paintFill, id<OrgMapsforgeCoreGraphicsPaint> paintStroke, id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory, jboolean keepAligned) {
  OrgMapsforgeMapLayerLayer_init(self);
  JreStrongAssignAndConsume(&self->latLongs_, new_JavaUtilConcurrentCopyOnWriteArrayList_init());
  self->keepAligned_ = keepAligned;
  JreStrongAssign(&self->paintFill_, paintFill);
  JreStrongAssign(&self->paintStroke_, paintStroke);
  JreStrongAssign(&self->graphicFactory_, graphicFactory);
}

OrgMapsforgeMapLayerOverlayPolygon *new_OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_(id<OrgMapsforgeCoreGraphicsPaint> paintFill, id<OrgMapsforgeCoreGraphicsPaint> paintStroke, id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory, jboolean keepAligned) {
  J2OBJC_NEW_IMPL(OrgMapsforgeMapLayerOverlayPolygon, initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_, paintFill, paintStroke, graphicFactory, keepAligned)
}

OrgMapsforgeMapLayerOverlayPolygon *create_OrgMapsforgeMapLayerOverlayPolygon_initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_(id<OrgMapsforgeCoreGraphicsPaint> paintFill, id<OrgMapsforgeCoreGraphicsPaint> paintStroke, id<OrgMapsforgeCoreGraphicsGraphicFactory> graphicFactory, jboolean keepAligned) {
  J2OBJC_CREATE_IMPL(OrgMapsforgeMapLayerOverlayPolygon, initWithOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsPaint_withOrgMapsforgeCoreGraphicsGraphicFactory_withBoolean_, paintFill, paintStroke, graphicFactory, keepAligned)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgMapsforgeMapLayerOverlayPolygon)
